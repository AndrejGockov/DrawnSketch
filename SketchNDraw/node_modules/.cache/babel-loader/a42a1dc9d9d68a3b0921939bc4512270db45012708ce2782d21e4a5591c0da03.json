{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Documents\\\\Programming\\\\End of The Year Project\\\\SketchNDraw\\\\src\\\\pages\\\\Paint.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport Backwards from \"./sections/Backwards.js\";\nimport Tools from \"./sections/Tools.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Paint = () => {\n  _s();\n  //Canvas and Context References\n  const canvasRef = useRef(null);\n  const contextRef = useRef(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n  useEffect(() => {\n    //Canvas\n    const canvas = canvasRef.current;\n    canvas.width = 800;\n    canvas.height = 400;\n\n    //Context\n    const ctx = canvas.getContext(\"2d\");\n    ctx.mozImageSmoothingEnabled = false;\n    ctx.imageSmoothingEnabled = false;\n    ctx.fillStyle = \"white\";\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    ctx.lineCap = \"round\";\n    ctx.lineWidth = 5;\n    contextRef.current = ctx;\n\n    //Cn\n    window.onload = function () {\n      if (window.innerWidth <= 810) {\n        ctx.canvas.width = window.innerWidth * 0.8;\n        console.log(window.width);\n      } else {\n        ctx.canvas.width = 800;\n      }\n    };\n  }, []);\n  const startDrawing = _ref => {\n    let {\n      nativeEvent\n    } = _ref;\n    setIsDrawing(true);\n    const {\n      offsetX,\n      offsetY\n    } = nativeEvent;\n    // console.log(offsetX + \" \" + offsetY);\n    contextRef.current.beginPath();\n    contextRef.current.moveTo(offsetX, offsetY);\n    contextRef.current.stroke();\n    // nativeEvent.preventDefault();\n  };\n\n  const Drawing = _ref2 => {\n    let {\n      nativeEvent\n    } = _ref2;\n    if (!isDrawing) {\n      return;\n    } else {\n      // console.log(offsetX + \" \" + offsetY);\n\n      if (nativeEvent.type == \"touchmove\") {\n        const {\n          offsetX,\n          offsetY\n        } = nativeEvent.touches[0];\n        console.log(offsetX + \" \" + offsetY);\n        contextRef.current.lineTo(nativeEvent.touches[0].clientX, nativeEvent.touches[0].clientY);\n      } else {\n        const {\n          offsetX,\n          offsetY\n        } = nativeEvent;\n        contextRef.current.lineTo(offsetX, offsetY);\n      }\n      contextRef.current.stroke();\n      // nativeEvent.preventDefault();\n    }\n  };\n\n  const stopDrawing = () => {\n    setIsDrawing(false);\n    contextRef.current.closePath();\n  };\n  const setToDraw = () => {\n    contextRef.current.globalCompositeOperation = \"source-over\";\n  };\n  const setToErase = () => {\n    contextRef.current.globalCompositeOperation = \"destination-out\";\n  };\n  function colorChange(e) {\n    contextRef.current.strokeStyle = e.target.value;\n  }\n  const downloadDrawing = event => {\n    //Selects the target of the event the current state of the Canvas.\n    //Then downloads it as an image and names it \"Sketch.png\"\n    let link = event.currentTarget;\n    let image = canvasRef.current.toDataURL(\"image/png\");\n    link.setAttribute(\"download\", \"SketchNDraw.png\");\n    link.setAttribute(\"href\", image);\n  };\n  function clearCanvas(e) {\n    contextRef.current.fillStyle = \"white\";\n    contextRef.current.fillRect(0, 0, canvasRef.current.width, canvasRef.current.height);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Tools, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Backwards, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      id: \"canvas\",\n      onMouseDown: startDrawing,\n      onMouseMove: Drawing,\n      onMouseUp: stopDrawing,\n      onMouseLeave: stopDrawing,\n      onTouchStart: startDrawing,\n      onTouchMove: Drawing,\n      onTouchEnd: stopDrawing,\n      ref: canvasRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n      onClick: downloadDrawing,\n      children: \"Download\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"color\",\n      id: \"color\",\n      onChange: colorChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: clearCanvas,\n      children: \"Clear\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: setToDraw,\n      children: \"Pen\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: setToErase,\n      children: \"Erase\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Paint, \"gX+PwV6uGFVV0Nk+m7BEZwABNTU=\");\n_c = Paint;\nexport default Paint;\nvar _c;\n$RefreshReg$(_c, \"Paint\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Backwards","Tools","Paint","canvasRef","contextRef","isDrawing","setIsDrawing","canvas","current","width","height","ctx","getContext","mozImageSmoothingEnabled","imageSmoothingEnabled","fillStyle","fillRect","lineCap","lineWidth","window","onload","innerWidth","console","log","startDrawing","nativeEvent","offsetX","offsetY","beginPath","moveTo","stroke","Drawing","type","touches","lineTo","clientX","clientY","stopDrawing","closePath","setToDraw","globalCompositeOperation","setToErase","colorChange","e","strokeStyle","target","value","downloadDrawing","event","link","currentTarget","image","toDataURL","setAttribute","clearCanvas"],"sources":["C:/Users/Admin/Documents/Programming/End of The Year Project/SketchNDraw/src/pages/Paint.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nimport Backwards from \"./sections/Backwards.js\";\r\nimport Tools from \"./sections/Tools.js\";\r\n\r\nexport const Paint = () => {\r\n  //Canvas and Context References\r\n  const canvasRef = useRef(null);\r\n  const contextRef = useRef(null);\r\n\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    //Canvas\r\n    const canvas = canvasRef.current;\r\n    canvas.width = 800;\r\n    canvas.height = 400;\r\n\r\n    //Context\r\n    const ctx = canvas.getContext(\"2d\");\r\n    ctx.mozImageSmoothingEnabled = false;\r\n    ctx.imageSmoothingEnabled = false;\r\n    ctx.fillStyle = \"white\";\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    ctx.lineCap = \"round\";\r\n\r\n    ctx.lineWidth = 5;\r\n    contextRef.current = ctx;\r\n\r\n    //Cn\r\n    window.onload = function () {\r\n      if (window.innerWidth <= 810) {\r\n        ctx.canvas.width = window.innerWidth * 0.8;\r\n        console.log(window.width);\r\n      } else {\r\n        ctx.canvas.width = 800;\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const startDrawing = ({ nativeEvent }) => {\r\n    setIsDrawing(true);\r\n    const { offsetX, offsetY } = nativeEvent;\r\n    // console.log(offsetX + \" \" + offsetY);\r\n    contextRef.current.beginPath();\r\n    contextRef.current.moveTo(offsetX, offsetY);\r\n    contextRef.current.stroke();\r\n    // nativeEvent.preventDefault();\r\n  };\r\n\r\n  const Drawing = ({ nativeEvent }) => {\r\n    if (!isDrawing) {\r\n      return;\r\n    } else {\r\n      // console.log(offsetX + \" \" + offsetY);\r\n\r\n      if (nativeEvent.type == \"touchmove\") {\r\n        const { offsetX, offsetY } = nativeEvent.touches[0];\r\n        console.log(offsetX + \" \" + offsetY);\r\n        contextRef.current.lineTo(\r\n          nativeEvent.touches[0].clientX,\r\n          nativeEvent.touches[0].clientY\r\n        );\r\n      } else {\r\n        const { offsetX, offsetY } = nativeEvent;\r\n\r\n        contextRef.current.lineTo(offsetX, offsetY);\r\n      }\r\n      contextRef.current.stroke();\r\n      // nativeEvent.preventDefault();\r\n    }\r\n  };\r\n\r\n  const stopDrawing = () => {\r\n    setIsDrawing(false);\r\n    contextRef.current.closePath();\r\n  };\r\n\r\n  const setToDraw = () => {\r\n    contextRef.current.globalCompositeOperation = \"source-over\";\r\n  };\r\n\r\n  const setToErase = () => {\r\n    contextRef.current.globalCompositeOperation = \"destination-out\";\r\n  };\r\n\r\n  function colorChange(e) {\r\n    contextRef.current.strokeStyle = e.target.value;\r\n  }\r\n\r\n  const downloadDrawing = (event) => {\r\n    //Selects the target of the event the current state of the Canvas.\r\n    //Then downloads it as an image and names it \"Sketch.png\"\r\n    let link = event.currentTarget;\r\n    let image = canvasRef.current.toDataURL(\"image/png\");\r\n    link.setAttribute(\"download\", \"SketchNDraw.png\");\r\n    link.setAttribute(\"href\", image);\r\n  };\r\n\r\n  function clearCanvas(e) {\r\n    contextRef.current.fillStyle = \"white\";\r\n    contextRef.current.fillRect(\r\n      0,\r\n      0,\r\n      canvasRef.current.width,\r\n      canvasRef.current.height\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Tools />\r\n      <Backwards />\r\n\r\n      <canvas\r\n        id=\"canvas\"\r\n        onMouseDown={startDrawing}\r\n        onMouseMove={Drawing}\r\n        onMouseUp={stopDrawing}\r\n        onMouseLeave={stopDrawing}\r\n        onTouchStart={startDrawing}\r\n        onTouchMove={Drawing}\r\n        onTouchEnd={stopDrawing}\r\n        ref={canvasRef}\r\n      />\r\n\r\n      <a onClick={downloadDrawing}>Download</a>\r\n      <input type=\"color\" id=\"color\" onChange={colorChange} />\r\n\r\n      <button onClick={clearCanvas}>Clear</button>\r\n      <button onClick={setToDraw}>Pen</button>\r\n      <button onClick={setToErase}>Erase</button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Paint;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}